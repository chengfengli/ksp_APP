<ion-header>
  <ion-navbar>
    <ion-title>上传文档</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="file-box" padding>
    <p class="tips">上传的文档最大支持50M</p>
    <div class="add-file-btn" (click)="chooserFile()">
      <span>添加文档</span>
    </div>
  </div>
  <div style="border-top: .5px solid #ccc;">
      <ion-input type="text" [(ngModel)]="title" maxLength="50" placeholder="请输入文档标题"></ion-input>
      <div style="text-align:right;">{{title.length}}/50</div>
  </div>

  <ion-list>
    <button ion-item (click)="showColumn=true" class="font14">
      <span *ngIf="colum.length==0" class="placeholder">请选择栏目</span>
      <span *ngIf="colum.length!=0">{{colum}}</span>
    </button>
    <button ion-item (click)="showDep=true" class="font14">
      <span *ngIf="tagStr.length==0" class="placeholder">请选择标签</span>
      <span *ngIf="tagStr.length!=0">{{tagStr}}</span>
    </button>
    <button ion-item (click)="showDep=true" class="font14">
      <span *ngIf="depStr.length==0" class="placeholder">选择可见部门</span>
      <span *ngIf="depStr.length!=0">{{depStr}}</span>
    </button>
  </ion-list>
  <button id="login-btn" ion-button block  type="button" class="font18" (click)="saveFile()">上传文档</button>
</ion-content>
<div class="bg" *ngIf="showDep">
    <department-tree (confirm)="getDeps($event)" (cancel)="closeDep()"></department-tree>
</div>
<div class="bg" *ngIf="showColumn">
  <colum-list (confirm)="getColumn($event)" (cancel)="closeColumn()"></colum-list>
</div>
